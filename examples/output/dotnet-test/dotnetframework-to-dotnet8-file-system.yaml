- ruleID: dotnetframework-to-dotnet8-file-system-00000
  description: FileSystemInfo.Attributes throws UnauthorizedAccessException should
    be replaced with Catch UnauthorizedAccessException when setting FileSystemInfo.Attributes
  effort: 3
  category: potential
  labels:
  - konveyor.io/source=dotnetframework
  - konveyor.io/target=dotnet8
  when:
    c-sharp.referenced:
      pattern: System.IO.FileSystemInfo.Attributes
      location: FIELD
  message: "In .NET Framework, an ArgumentException is thrown when setting a file\
    \ attribute without write permission. In .NET Core, an UnauthorizedAccessException\
    \ is thrown instead.\n\nReplace `FileSystemInfo.Attributes throws UnauthorizedAccessException`\
    \ with `Catch UnauthorizedAccessException when setting FileSystemInfo.Attributes`.\n\
    \nBefore:\n```\ntry {\n  fileInfo.Attributes = FileAttributes.ReadOnly;\n} catch\
    \ (ArgumentException ex) {\n  // handle exception\n}\n```\n\nAfter:\n```\ntry\
    \ {\n  fileInfo.Attributes = FileAttributes.ReadOnly;\n} catch (UnauthorizedAccessException\
    \ ex) {\n  // handle exception\n}\n```"
  customVariables: []
